# Definition of Done: Pass 7 Schedule Construction

Generated: 2026-01-12

## Required Acceptance Criteria

All criteria must pass for sprint completion.

### P0: Generate Render Steps

- [ ] `pass7Schedule()` returns `ScheduleIR` with non-empty `steps` array
- [ ] Each render block (capability === 'render') produces exactly one `StepRender`
- [ ] Test assertion `schedule.steps.length > 0` passes

### P1: Wire Render Inputs

- [ ] `StepRender.position` is a valid `FieldExprId` from the 'pos' input
- [ ] `StepRender.color` is a valid `FieldExprId` from the 'color' input
- [ ] `StepRender.size` is a valid ID if wired, undefined otherwise
- [ ] Inputs correctly traced through `validated.edges` to `blockOutputs`

### P2: Domain Resolution

- [ ] `StepRender.domain` is a valid `DomainId`
- [ ] Domain exists in `schedule.domains` map
- [ ] Runtime materializes correct particle count (5000 for demo)

## Verification Commands

```bash
# Type check
npm run typecheck

# Run tests
npm run test

# Manual verification
npm run dev
# Open browser - should see animated particles
```

## Success Evidence

1. **Console shows**: `[main] Compile result: ok`
2. **Console shows**: `Compiled: X signals, Y fields, Z slots` (Z > 0)
3. **Canvas renders**: Animated particle system visible
4. **No errors**: No runtime errors after "Starting animation loop..."
