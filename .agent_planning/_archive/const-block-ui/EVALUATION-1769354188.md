# Evaluation: Const Block UI Type-Appropriate Editors

Generated: 2026-01-25T16:56:28Z
Evaluator: project-evaluator

## Summary

**Verdict**: CONTINUE - HIGH confidence work, ready for implementation
**Scope Status**: Complete (40% of full feature spec)
**Blockers**: None

## Work Items

### 1. UI for Const block should show type-appropriate value editor

**Status**: HIGH confidence

**Current State**:
- Const block fully defined with generic payload support (float, int, bool, vec2, color, shape, cameraProjection)
- BlockInspector hardcodes SliderWithInput regardless of type
- All needed UI controls exist: ColorInput, checkbox, xy inputs, int/float sliders

**What's Missing**:
- Type dispatch logic in editor (needs switch on payloadType)
- Value editor selection based on resolved type

**Dependencies**: None - all components available

**Effort**: 2-3 hours

### 2. Validate value representation when type is resolved

**Status**: HIGH confidence

**Current State**:
- Payload resolution pass correctly propagates concrete types
- Resolved type stored in block.params.payloadType
- No runtime validation of value matching type

**What's Missing**:
- Validation rule in authoringValidators
- Error messaging when value doesn't match type
- Auto-correction or guidance on type mismatch

**Dependencies**: Item #1 (UI) should be done first

**Effort**: 1-2 hours

## Technical Unknowns

| Unknown | Severity | Resolution |
|---------|----------|------------|
| Validation timing (authoring vs compile) | LOW | Validate at authoring time (immediate feedback) |
| Type transition behavior | LOW | Reset value to defaults when payloadType changes |
| Fallback for unresolved type | LOW | Use float slider as safe default |

## Key Code Locations

- **Const block**: `src/blocks/signal-blocks.ts:31-159`
- **Editor (needs dispatch)**: `src/ui/components/BlockInspector.tsx:1424-1435`
- **Existing HintedControl (handles all types)**: `src/ui/components/BlockInspector.tsx:1849-1949`
- **Validation location**: `src/diagnostics/validators/authoringValidators.ts`

## Confidence Assessment

**Overall**: HIGH (all work items)

Rationale:
- Architecture is clear and existing
- UI components already implemented
- No unknown dependencies
- Requirements well-specified
- Total effort: 3-5 hours
