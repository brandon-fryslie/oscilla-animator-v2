# Context: Rete Removal

**Date:** 2026-01-18
**Topic:** Remove Rete.js node editor from codebase

---

## Background

The codebase has two node editor implementations:
1. **Rete.js** - Full-featured but currently disabled in the UI
2. **React Flow** - Simpler, currently active as the primary editor

The user wants to remove Rete entirely to reduce complexity from having two node editor implementations.

## Current State

### Rete Implementation Status
- Rete editor panel is commented out in `panelRegistry.ts` line 54
- React Flow is set as the active editor tab by default
- Both editors share the `EditorHandle` abstraction
- App.tsx manages context switching between both editors (though Rete is disabled)

### Code Locations

**Rete-specific files:**
- `src/ui/reteEditor/ReteEditor.tsx` (365 lines) - Main component
- `src/ui/reteEditor/sync.ts` (291 lines) - Bidirectional PatchStore sync
- `src/ui/reteEditor/nodes.ts` (67 lines) - OscillaNode class
- `src/ui/reteEditor/sockets.ts` (105 lines) - Type compatibility system
- `src/ui/reteEditor/ReteEditor.css` - Styling
- `src/ui/dockview/panels/ReteEditorPanel.tsx` (15 lines) - Dockview wrapper

**Integration points:**
- `src/ui/dockview/panelRegistry.ts` - Panel registration
- `src/ui/dockview/defaultLayout.ts` - Layout builder
- `src/ui/dockview/DockviewProvider.tsx` - Callback props
- `src/ui/components/app/App.tsx` - Editor state management
- `src/ui/editorCommon/EditorHandle.ts` - Abstraction interface

**Dependencies (package.json):**
- `rete` ^2.0.6
- `rete-area-plugin` ^2.1.5
- `rete-auto-arrange-plugin` ^2.0.2
- `rete-connection-plugin` ^2.0.5
- `rete-context-menu-plugin` ^2.0.6
- `rete-history-plugin` ^2.1.1
- `rete-minimap-plugin` ^2.0.3
- `rete-react-plugin` ^2.1.0

## Constraints

1. React Flow must remain fully functional after removal
2. PatchStore sync must continue working
3. Build must pass with no errors
4. No orphaned imports or dead code
